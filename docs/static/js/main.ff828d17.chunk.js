(this["webpackJsonpreact-tour-of-heroes"]=this["webpackJsonpreact-tour-of-heroes"]||[]).push([[0],{11:function(e,t,a){e.exports={"col-1-4":"Dashboard_col-1-4__kqr7y",a:"Dashboard_a__22u35",h3:"Dashboard_h3__1YNP1",h4:"Dashboard_h4__3W9mb",grid:"Dashboard_grid__1vyT2",module:"Dashboard_module__VOd0-","grid-pad":"Dashboard_grid-pad__3Wruk"}},14:function(e,t,a){e.exports={"search-result":"HeroSearch_search-result__2f1rZ",li:"HeroSearch_li__3m3EA",a:"HeroSearch_a__C5yvc","search-box":"HeroSearch_search-box__2henY",ul:"HeroSearch_ul__1k6Kv"}},15:function(e,t,a){e.exports={heroes:"Heroes_heroes__mAHDT",badge:"Heroes_badge__3bknk",button:"Heroes_button__2a4kL",delete:"Heroes_delete__1Ue_U"}},18:function(e,t,a){e.exports={label:"HeroDetail_label__1Vkrj",input:"HeroDetail_input__3H3kt",button:"HeroDetail_button__2112_"}},19:function(e,t,a){e.exports={h1:"App_h1__hZgWr",h2:"App_h2__3EgXg",nav:"App_nav__34azk",a:"App_a__2zieo",active:"App_active__1QGer"}},23:function(e,t,a){e.exports={h2:"Messages_h2__13Pdp",button:"Messages_button__2gEah",clear:"Messages_clear__3PNtu"}},31:function(e,t,a){e.exports=a(43)},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),o=a.n(c),u=a(3),l=a(9),i=a.n(l),s=a(8),m=a(4),d=a.n(m),f=a(13),h=a(10),b=a(21),v=a(22),p=[],_=function(){},E=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,null,[{key:"add",value:function(e){p.push(e),_(p)}},{key:"clear",value:function(){_(p=[])}},{key:"onChange",value:function(e){_=e}}]),e}(),g=[{id:11,name:"Dr Nice"},{id:12,name:"Narco"},{id:13,name:"Bombasto"},{id:14,name:"Celeritas"},{id:15,name:"Magneta"},{id:16,name:"RubberMan"},{id:17,name:"Dynama"},{id:18,name:"Dr IQ"},{id:19,name:"Magma"},{id:20,name:"Tornado"}],k=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,null,[{key:"getHeroes",value:function(){var e=this;return new Promise((function(t,a){setTimeout((function(){e.log("fetched heroes"),t(g)}),50)}))}},{key:"getHero",value:function(e){var t=this;return new Promise((function(a,n){var r=g.find((function(t){return t.id===e}));setTimeout((function(){r?(t.log("fetched hero id=".concat(e)),a(r)):t.handleError(n,"getHero id=".concat(e))}),50)}))}},{key:"searchHeroes",value:function(t){return new Promise((function(a,n){setTimeout((function(){t.trim()||a([]);var n=g.filter((function(e){return e.name.includes(t)}));n.length?e.log('found heroes matching "'.concat(t,'"')):e.log('no heroes matching "'.concat(t,'"')),a(n)}),50)}))}},{key:"addHero",value:function(t){return new Promise((function(a,n){setTimeout((function(){var n=Math.max.apply(Math,Object(f.a)(g.map((function(e){return e.id}))))+1;g.push({id:n,name:t}),e.log("added hero w/ id=".concat(n)),a(g)}),50)}))}},{key:"deleteHero",value:function(t){var a=this;return new Promise(function(){var n=Object(h.a)(d.a.mark((function n(r,c){var o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getHero(t);case 2:o=n.sent,setTimeout((function(){o||a.handleError(c,"deleteHero id=".concat(t)),g=g.filter((function(e){return e.id!==t})),r(g)}),50);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"updateHero",value:function(t){var a=this,n=t.id,r=t.name;return new Promise(function(){var t=Object(h.a)(d.a.mark((function t(c,o){var u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getHero(n);case 2:u=t.sent,setTimeout((function(){u||a.handleError(o,"updateHero id=".concat(n)),u.name=r,c(u)}),50);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())}},{key:"handleError",value:function(t,a){console.error(a),e.log("failed: ".concat(a)),t(a)}},{key:"log",value:function(e){E.add("HeroService: ".concat(e))}}]),e}(),j=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],c=function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.addHero(t);case 2:a=e.sent,r(Object(f.a)(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.deleteHero(+t);case 2:a=e.sent,r(Object(f.a)(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getHeroes();case 2:t=e.sent,r(Object(f.a)(t));case 4:case"end":return e.stop()}}),e)})))()}),[]),[a,c,o]},H=a(14),O=a.n(H);function w(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],c=t[1],o=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){e&&Object(h.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.searchHeroes(e);case 2:a=t.sent,c(a);case 4:case"end":return t.stop()}}),t)})))()}),[e]),[r]}(a),l=Object(u.a)(o,1)[0],m=function(){return l.map((function(e){return r.a.createElement("li",{key:e.id,className:H.li},r.a.createElement(s.b,{className:H.a,to:"/detail/".concat(e.id)},e.name))}))};return r.a.createElement("div",{id:"search-component"},r.a.createElement("h4",null,r.a.createElement("label",{htmlFor:"search-box"},"Hero Search")),r.a.createElement("input",{className:O.a["search-box"],onChange:function(e){var t=e.target.value;return c(t)}}),r.a.createElement("ul",{className:i()(O.a["search-result"],H.ul)},r.a.createElement(m,null)))}var x=a(11),y=a.n(x);function N(){var e=j(),t=Object(u.a)(e,1)[0].slice(1,5),a=function(){return t.map((function(e){return r.a.createElement(s.b,{key:e.id,className:i()(y.a["col-1-4"],x.a),to:"/detail/".concat(e.id)},r.a.createElement("div",{className:i()(x.module,"hero")},r.a.createElement("h4",{className:x.h4},e.name)))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:x.h3},"Top Heroes"),r.a.createElement("div",{className:i()(x.grid,y.a["grid-pad"])},r.a.createElement(a,null)),r.a.createElement(w,null))}var D=a(1),S=a(18);function C(){var e=Object(D.g)().id,t=Object(D.f)(),a=function(e){var t=Object(n.useState)(),a=Object(u.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){Object(h.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getHero(e);case 2:a=t.sent,c(a);case 4:case"end":return t.stop()}}),t)})))()}),[e]),[r,c,k.updateHero]}(+e),c=Object(u.a)(a,3),o=c[0],l=c[1],i=c[2];return r.a.createElement(r.a.Fragment,null,o?r.a.createElement("div",null,r.a.createElement("h2",null,o.name.toUpperCase()," Details"),r.a.createElement("div",null,r.a.createElement("span",null,"id: "),o.id),r.a.createElement("div",null,r.a.createElement("label",{className:S.label},"name:",r.a.createElement("input",{className:S.input,value:o.name,placeholder:"name",onChange:function(t){var a=t.target.value;return l({id:+e,name:a})}}))),r.a.createElement("button",{className:S.button,onClick:t.goBack},"go back"),r.a.createElement("button",{className:S.button,onClick:function(){return i(o)}},"save")):null)}var M=a(15),T=a.n(M);function P(){var e=j(),t=Object(u.a)(e,3),a=t[0],c=t[1],o=t[2],l=Object(n.useState)(""),i=Object(u.a)(l,2),s=i[0],m=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"My Heroes"),r.a.createElement("div",null,r.a.createElement("label",null,"Hero name: ",r.a.createElement("input",{value:s,onChange:function(e){var t=e.target.value;return m(t)}})),r.a.createElement("button",{className:M.button,onClick:function(){c(s),m("")}},"add")),r.a.createElement("ul",{className:M.heroes},r.a.createElement(A,{heroes:a,deleteHero:o})))}function A(e){var t=e.heroes,a=e.deleteHero;return t.map((function(e){var t=e.id,n=e.name;return r.a.createElement("li",{key:t},r.a.createElement(s.b,{to:"/detail/".concat(t)},r.a.createElement("span",{className:M.badge},t)," ",n),r.a.createElement("button",{className:i()(M.button,T.a.delete),title:"delete hero",onClick:function(){return a(t)}},"x"))}))}var F=a(19),W=a(23);function B(){var e=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){E.onChange((function(e){return r(Object(f.a)(e))}))})),[a,E.clear]}(),t=Object(u.a)(e,2),a=t[0],c=t[1],o=function(){return a.map((function(e,t){return r.a.createElement("div",{key:t},e)}))};return a?r.a.createElement("div",null,r.a.createElement("h2",{className:W.h2},"Messages"),r.a.createElement("button",{className:i()(W.clear,W.button),onClick:c},"clear"),r.a.createElement(o,null)):null}var U=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement("h1",{className:F.h1},"Tour of Heroes"),r.a.createElement("nav",{className:F.nav},r.a.createElement(s.b,{className:F.a,to:"/dashboard"},"Dashboard"),r.a.createElement(s.b,{className:F.a,to:"/heroes"},"Heroes")),r.a.createElement(D.c,null,r.a.createElement(D.a,{exact:!0,path:"/"},r.a.createElement(N,null)),r.a.createElement(D.a,{path:"/heroes"},r.a.createElement(P,null)),r.a.createElement(D.a,{path:"/dashboard"},r.a.createElement(N,null)),r.a.createElement(D.a,{path:"/detail/:id"},r.a.createElement(C,null))),r.a.createElement(B,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(42);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.ff828d17.chunk.js.map